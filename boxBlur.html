<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>boxBlur</title>
</head>
<body>
    <script>
   function boxBlur(image)
    {
        let n = image.length;   
        let m = image[0].length;

        var finalArr = new Array(n - 2);

        for (var i = 0; i < n - 2; i++)
        {
            finalArr[i] = new Array(m - 2);
        }

        let j, row, col, sum;

        sum = row = 0;

        while (row <= n - 3)
        {
            col = 0;
            while (col <= m - 3)
            {
                sum = 0;
                for (i = row; i < 3 + row; i++)
                    for (j = col; j < 3 + col; j++)
                        sum += image[i][j];

                finalArr[row][col] = Math.floor(sum / 9);
                col++;

            }
            row++;

        }

        return finalArr;
    }
    console.log(boxBlur([[1,1,1], [1,7,1], [1,1,1]]));
    </script>
</body>
</html>
